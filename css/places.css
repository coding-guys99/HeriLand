/* ===============================
   PLACES PAGE — Base layout
   =============================== */
:root{
  --bg:#0f1412;
  --card:#151f1c;
  --line:rgba(255,255,255,.08);
  --text:#e9f0ec;
  --muted:rgba(255,255,255,.55);
}

*{box-sizing:border-box}
body{
  background:var(--bg);
  color:var(--text);
  font-family:"Inter","Noto Sans TC",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  margin:0;
}
main{padding:0 16px 80px;max-width:1200px;margin:0 auto}

/* Header */
.page-header{text-align:center;padding:40px 0 20px}
#pageTitle{font-size:1.8rem;font-weight:800;margin:0}
#pageSub{font-size:1rem;color:var(--muted);margin-top:6px}

/* Chips / toolbar */
.chips-row,.toolbar{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;padding:8px 0 16px}
.toolbar__group{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
.toolbar__search{width:100%;display:flex;justify-content:center;padding-top:6px}
.toolbar__search input{
  width:min(540px,100%);padding:10px 12px;border-radius:12px;border:1px solid var(--line);
  background:#121b18;color:var(--text);outline:none
}
.chip{
  display:inline-flex;align-items:center;justify-content:center;
  padding:8px 14px;border-radius:999px;border:1px solid var(--line);
  background:#151f1c;color:var(--text);font-size:.9rem;text-decoration:none;cursor:pointer;
  transition:background .2s,color .2s
}
.chip:hover{background:#1d2824}
.chip.active{background:#2a7b57;border-color:#2a7b57;color:#fff}

/* Card grid */
#list{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}
.card{
  background:var(--card);border:1px solid var(--line);border-radius:12px;overflow:hidden;
  display:flex;flex-direction:column;transition:transform .15s ease
}
.card:hover{transform:translateY(-2px)}
.thumb{position:relative;aspect-ratio:16/10;overflow:hidden;background:#1a2421}
.thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.badge{position:absolute;left:10px;top:10px;background:rgba(0,0,0,.55);color:#fff;padding:3px 8px;border-radius:6px;font-size:.8rem}
.body{padding:12px 14px;flex:1}
.title{font-size:1.05rem;font-weight:700;margin:0 0 4px}
.meta{font-size:.9rem;color:var(--muted);margin:2px 0}
.tags{display:flex;flex-wrap:wrap;gap:6px;margin:6px 0}
.tag{background:#2a7b57;color:#fff;border-radius:999px;padding:3px 10px;font-size:.8rem}
.actions{display:flex;align-items:center;justify-content:space-between;padding:10px 14px 14px;gap:6px}
.actions .ic{display:inline-flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:6px;background:rgba(255,255,255,.05);color:var(--text);text-decoration:none}
.actions .ic:hover{background:rgba(255,255,255,.12)}
.actions svg{width:18px;height:18px}
.btn{display:inline-block;text-decoration:none;border-radius:8px;padding:8px 14px;font-weight:700;font-size:.9rem;cursor:pointer;text-align:center}
.btn.ghost{border:1px solid var(--line);color:var(--text);background:transparent}
.btn.ghost:hover{background:#2a7b57;color:#fff}

/* Skeleton */
.skeleton{background:linear-gradient(90deg,#1e2925 25%,#273631 37%,#1e2925 63%);background-size:400% 100%;animation:shimmer 1.3s infinite}
@keyframes shimmer{0%{background-position:-200px 0}100%{background-position:200px 0}}

/* Empty */
#empty{text-align:center;color:var(--muted);padding:60px 0}

/* ===============================
   Bottom Sheet (Heriland style)
   =============================== */
.sheet{
  position:fixed;left:0;right:0;bottom:0;background:#fff;color:#111;
  border-top-left-radius:20px;border-top-right-radius:20px;transform:translateY(100%);
  transition:transform .3s ease-out;box-shadow:0 -10px 40px rgba(0,0,0,.35);z-index:40
}
.sheet--half{transform:translateY(50vh)}   /* 半開 50% */
.sheet--open{transform:translateY(8vh)}    /* 全開 92% */
.sheet-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.4);opacity:0;pointer-events:none;transition:opacity .25s ease;z-index:30}
.sheet--visible + .sheet-backdrop{opacity:1;pointer-events:auto}
.sheet__drag{height:36px;display:flex;align-items:center;justify-content:center;position:relative}
.sheet__bar{width:40px;height:4px;background:rgba(0,0,0,.15);border-radius:99px}
.sheet__zoom{position:absolute;right:12px;top:6px;background:#f6f6f6;border-radius:8px;width:28px;height:28px;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer}
.sheet__thumb{aspect-ratio:16/9;position:relative;overflow:hidden;background:#eee}
.sheet__thumb img{width:100%;height:100%;object-fit:cover}
.sheet__info{padding:12px 16px 8px}
.sheet__info h3{margin:0 0 4px;font-size:1.12rem;font-weight:800}
#sRating{float:right;font-weight:700}
.sheet__tags{display:flex;gap:8px;margin:8px 0}
.sheet__tags span{background:#e9f2ee;border-radius:999px;padding:4px 10px;font-size:.8rem;color:#1b4a37}
.sheet__ops{display:flex;gap:10px;margin:8px 0}
.sheet__op{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#f6f6f6;border:none;border-radius:12px;padding:8px 0;font-size:.8rem;color:#333}
.sheet__op svg{width:18px;height:18px;margin-bottom:4px}
.sheet__footer{display:flex;justify-content:center;padding:10px 0 18px}
.sheet__call{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;background:#f6f6f6;border-radius:50%;color:#111;text-decoration:none}
.sheet__call svg{width:20px;height:20px}

@media (min-width:768px){
  .sheet,.sheet-backdrop{display:none}
}

/* ===== PLACES OVERRIDES (put at END) ===== */
.page-places .sheet{ 
  transform: translateY(100%) !important;
  background:#fff !important; color:#111 !important;
  border-top-left-radius:20px; border-top-right-radius:20px;
  box-shadow:0 -10px 40px rgba(0,0,0,.35);
  z-index: 40;
}
.page-places .sheet--half{ transform: translateY(50vh) !important; }  /* 半開 50% */
.page-places .sheet--open{ transform: translateY(8vh) !important; }   /* 全開 92% */

.page-places .sheet-backdrop{ 
  background: rgba(0,0,0,.4) !important; 
  opacity: 0; pointer-events: none; z-index: 30;
}
.page-places .sheet--visible + .sheet-backdrop{
  opacity: 1; pointer-events: auto;
}

/* 主要區塊的關鍵樣式，避免被 base.css 改掉 */
.page-places .sheet__thumb{ aspect-ratio:16/9; background:#eee }
.page-places .sheet__info{ padding:12px 16px 8px }
.page-places .sheet__tags span{ background:#e9f2ee; color:#1b4a37 }
.page-places .sheet__ops .sheet__op{ background:#f6f6f6 }
.page-places .sheet__call{ background:#f6f6f6; color:#111 }